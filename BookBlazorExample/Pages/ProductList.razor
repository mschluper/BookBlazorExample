@page "/products"
@using BookBlazorExample.Components;

<PageTitle>Blazor Example: Products</PageTitle>

<div class="d-flex flex-row justify-content-between align-items-center mb-2">
    <h3>Product List</h3>
    <NavLink href="products/0" Match="NavLinkMatch.All">
        <button class="btn btn-primary"><i class="oi oi-pencil"></i>&nbsp; New Product</button>
    </NavLink>
</div>

<div>
    <SearchBar
        FilterText="@state.FilterText"
        InStockOnly="@state.InStockOnly"
        OnFilterChange="@HandleFilterChange"
        OnInStockChange="@HandleInStockChange"
    />
    <ProductTable
        Products="@state.Products"
        FilterText="@state.FilterText"
        InStockOnly="@state.InStockOnly">
            <RowTemplate Context="context">
                <ProductRow Product="@context" />
            </RowTemplate>
            <CategorizedRowTemplate>
                <ProductCategoryRow CategoryName="@context.Category?.Name"></ProductCategoryRow>
                <ProductRow Product="@context" />
            </CategorizedRowTemplate>
    </ProductTable>
</div>
